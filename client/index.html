<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>client</title>
    <!-- Suppress Google OAuth errors early, before React loads -->
    <script>
      (function() {
        // Suppress console.error for Google GSI errors
        const originalError = console.error;
        console.error = function(...args) {
          const errorMessage = args.length > 0 ? String(args[0]) : '';
          const fullMessage = args.map(arg => {
            if (typeof arg === 'object' && arg !== null) {
              try {
                return JSON.stringify(arg);
              } catch {
                return String(arg);
              }
            }
            return String(arg);
          }).join(' ');
          
          // Patterns to suppress (non-critical Google OAuth errors)
          const shouldSuppress = 
            errorMessage.includes('GSI_LOGGER') ||
            fullMessage.includes('GSI_LOGGER') ||
            fullMessage.includes('Cross-Origin-Opener-Policy') ||
            fullMessage.includes('Cross-Origin') ||
            fullMessage.includes('window.closed') ||
            fullMessage.includes('accounts.google.com/gsi/button') ||
            fullMessage.includes('accounts.google.com/gsi/status') ||
            (fullMessage.includes('accounts.google.com') && 
             (fullMessage.includes('403') || 
              fullMessage.includes('Failed to load resource') ||
              fullMessage.includes('status of 403'))) ||
            (errorMessage.includes('origin is not allowed') && 
             errorMessage.includes('client ID')) ||
            fullMessage.includes('origin is not allowed for the given client ID') ||
            fullMessage.includes('credential_button_library') ||
            fullMessage.includes('m=credential_button_library');
          
          if (!shouldSuppress) {
            originalError.apply(console, args);
          }
        };

        // Suppress console.warn for Google OAuth related warnings
        const originalWarn = console.warn;
        console.warn = function(...args) {
          const fullMessage = args.map(arg => {
            if (typeof arg === 'object' && arg !== null) {
              try {
                return JSON.stringify(arg);
              } catch {
                return String(arg);
              }
            }
            return String(arg);
          }).join(' ');
          
          if (
            fullMessage.includes('GSI_LOGGER') ||
            fullMessage.includes('Cross-Origin-Opener-Policy') ||
            fullMessage.includes('Cross-Origin') ||
            fullMessage.includes('window.closed') ||
            fullMessage.includes('accounts.google.com') ||
            fullMessage.includes('Google OAuth')
          ) {
            return;
          }
          originalWarn.apply(console, args);
        };
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
